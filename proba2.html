<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smidgin Slideshow Modal</title>

<script src="https://cdn.tailwindcss.com"></script>

<!-- Montserrat -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap" rel="stylesheet">

<!-- Font Awesome (for arrows) -->
<script src="https://kit.fontawesome.com/e70ea989f6.js" crossorigin="anonymous"></script>

<style>
body { font-family: 'Montserrat', sans-serif; }
</style>

</head>

<body class="bg-gray-200 min-h-screen flex items-center justify-center">

    <div id="AGE">
<div id="top" class="overflow-hidden"> <div id="age-gate" class="hidden  fixed inset-0 z-[10000] flex flex-col items-center justify-center bg-white/70 backdrop-blur-md transition-opacity duration-700">
        <h1 class="text-4xl font-Baskervville md:text-5xl tracking-[0.2em] font-light text-black mb-2 uppercase text-center px-4">
            Welcome to <span class="text-[#ff5a4e]">Smidgin</span>
        </h1>
        
        <p class="text-sm  font-montserrat text-gray-700 mb-12 text-center px-6">
            Enter your birth year to prove you're of legal drinking age.
        </p>

        <div class="flex gap-4 md:gap-6 font-montserrat">
            <div class="flex flex-col items-center font-montserrat">
                <input type="number" id="day" placeholder="DD"
    min="1" max="31"
    oninput="limitDigits(this,2); autoNext(this,'month')"
    class="w-16 md:w-20 text-xl text-center bg-transparent border-b-2 border-[#ff5a4e] text-[#ff5a4e] focus:outline-none">
            </div>
            <div class="flex flex-col items-center">
            <input type="number" id="month" placeholder="MM"
    min="1" max="12"
    oninput="limitDigits(this,2); autoNext(this,'year')"
    class="w-16 md:w-20 text-xl text-center bg-transparent border-b-2 border-[#ff5a4e] text-[#ff5a4e] focus:outline-none">
            </div>
            <div class="flex flex-col items-center">
        <input type="number" id="year" placeholder="YYYY"
    min="1900" max="2100"
    oninput="limitDigits(this,4); checkAge()"
    class="w-24 md:w-32 text-xl text-center bg-transparent border-b-2 border-[#ff5a4e] text-[#ff5a4e] focus:outline-none">            </div>
        </div>

        <p id="error" class="hidden mt-6 text-red-600 text-xs font-sans font-bold">
            You must be 18 or older to enter.
        </p>
    </div>

    <div id="content-wrapper" class="blur-md transition-all duration-700">
        
        <a href="#top" id="backToTop" class="fixed bottom-6 right-6 z-[9999] w-12 h-12 flex justify-center items-center bg-white text-red-500 rounded-full shadow-2xl shadow-black hover:scale-110 transition-all duration-300 opacity-0 pointer-events-none">
            <i class="fa-solid fa-arrow-up text-xl"></i>
        </a>



        </div>
        <script>
function limitDigits(el, max) {
    if (el.value.length > max) {
        el.value = el.value.slice(0, max);
    }
}
</script>

<script>
function isRealDate(y, m, d) {
    const test = new Date(y, m - 1, d);
    return test.getFullYear() == y &&
           test.getMonth() == m - 1 &&
           test.getDate() == d;
}

function checkAge() {
    const d = parseInt(day.value);
    const m = parseInt(month.value);
    const y = parseInt(year.value);

    if (!d || !m || !y || year.value.length !== 4) return;

    // ‚ùå invalid calendar date
    if (!isRealDate(y, m, d)) {
        document.getElementById('error').textContent = "Invalid birth date.";
        document.getElementById('error').classList.remove('hidden');
        return;
    }

    const birthDate = new Date(y, m - 1, d);
    const today = new Date();

    let age = today.getFullYear() - birthDate.getFullYear();
    const mdiff = today.getMonth() - birthDate.getMonth();

    if (mdiff < 0 || (mdiff === 0 && today.getDate() < birthDate.getDate())) {
        age--;
    }

    if (age >= 18) {
        localStorage.setItem("ageVerified", "true");

        const gate = document.getElementById('age-gate');
        const wrapper = document.getElementById('content-wrapper');

        gate.classList.add('opacity-0');
        wrapper.classList.remove('blur-md');
        document.body.classList.remove('overflow-hidden');

        setTimeout(() => gate.classList.add('hidden'), 700);
    } else {
        document.getElementById('error').textContent =
            "You must be 18 or older to enter.";
        document.getElementById('error').classList.remove('hidden');
    }
}

</script>
<script>
document.addEventListener("DOMContentLoaded", () => {
    const gate = document.getElementById("age-gate");
    const wrapper = document.getElementById("content-wrapper");

    if (localStorage.getItem("ageVerified") === "true") {
        gate.classList.add("hidden");
        wrapper.classList.remove("blur-md");
        document.body.classList.remove("overflow-hidden");
    } else {
        gate.classList.remove("hidden"); // üëà show only now
        document.body.classList.add("overflow-hidden");
    }
});
</script>


</div>
    </div>
</body>
</html>
